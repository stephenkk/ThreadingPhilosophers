import java.util.concurrent.*; 

//A shared resource/class. 
class Shared  
{ 
  static int count = 0; 
}

public class Philosopher extends Thread{
	Semaphore sem;
	
	private int philNumber;
	static boolean stick0=true;	//one boolean for each chopstick
	static boolean stick1=true;	//true means not being used.
	static boolean stick2=true;
	static boolean stick4=true;
	
		
	
	
	
	//constructor created to require initial values to be specified
	//for philosopher number
	public Philosopher(int philNumber) {
		this.sem = sem;
		this.philNumber = philNumber;
		
		
	}	
	// the run method will start a philosopher eating 
	//if he is hungry and if neither of his L or R 
	//neighbors is eating

	public void run() {
		if (this.philNumber == 0) {
			try {
				sem.acquire();
				if (stick4 == true && stick0 == true) {
					Shared.count++;
					eat();
				}
					
			} catch (InterruptedException e) {
				
				e.printStackTrace();
			}
			
		}
		if (this.philNumber == 1) {
			try {
				sem.acquire();
				if (stick0 == true && stick1 == true) {
					Shared.count++;
					eat();
				}
					
			} catch (InterruptedException e) {
				
				e.printStackTrace();
			}
		}
		}
		
		static Philosopher p0 = new Philosopher(0);
		static Philosopher p1 = new Philosopher(1);
		

			//Philosopher array
			static Philosopher[] WiseTable = {p0, p1};			
				
		
	public static void main(String[] args) {
		System.out.println("stick0 = " + stick0 + " stick1 = " + stick1);
		
		p0.start();		//each objects starts the run()
		p1.start();
		
		
		
}
	
	    	public void eat() {
	    		if (this.philNumber == 0) {
	    			System.out.println("p0 started...");
	    			stick4 = false;
	    			System.out.println(this.philNumber + "picked up " + stick4);
	    					
	    			
	    			stick0 = false;
	    			
	    			System.out.println(this.philNumber + "picked up " + stick0);	
	    		}
	    		if (this.philNumber == 1) {
	    			System.out.println("p1 started...");
	    			stick0 = false;
	    			System.out.println(this.philNumber + "picked up " + stick0);
	    			
	    			stick1 = false;
	    			
	    			System.out.println(this.philNumber + "picked up " + stick1);
	    		}
	    		
	    		
	    		
	    	}
	    	   	
	}
	
	
		
	
	

	

